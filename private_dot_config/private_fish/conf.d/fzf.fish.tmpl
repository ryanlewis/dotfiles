# fzf configuration for Fish shell

# The fzf.fish plugin handles key bindings and integration automatically
# Just configure fzf options here

# fzf configuration
set -gx FZF_DEFAULT_OPTS "\
--height 40% \
--layout reverse \
--border rounded \
--preview-window right:60%:wrap \
--bind 'ctrl-/:toggle-preview' \
--bind 'ctrl-a:select-all' \
--bind 'ctrl-y:execute-silent(echo {+} | pbcopy)' \
--color=dark \
--color=fg:-1,bg:-1,hl:#5fff87,fg+:-1,bg+:-1,hl+:#ffaf5f \
--color=info:#af87ff,prompt:#5fff87,pointer:#ff87d7,marker:#ff87d7,spinner:#ff87d7"

# Use fd for fzf if available
if type -q fd
    set -gx FZF_DEFAULT_COMMAND "fd --type f --hidden --follow --exclude .git"
    set -gx FZF_CTRL_T_COMMAND "$FZF_DEFAULT_COMMAND"
    set -gx FZF_ALT_C_COMMAND "fd --type d --hidden --follow --exclude .git"
else if type -q fdfind
    set -gx FZF_DEFAULT_COMMAND "fdfind --type f --hidden --follow --exclude .git"
    set -gx FZF_CTRL_T_COMMAND "$FZF_DEFAULT_COMMAND"
    set -gx FZF_ALT_C_COMMAND "fdfind --type d --hidden --follow --exclude .git"
end

# Preview files with bat if available
if type -q bat
    set -gx FZF_CTRL_T_OPTS "--preview 'bat --color=always --style=numbers --line-range=:500 {}'"
else if type -q batcat
    set -gx FZF_CTRL_T_OPTS "--preview 'batcat --color=always --style=numbers --line-range=:500 {}'"
end